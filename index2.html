<!DOCTYPE html>
<html>
    <head>
        <title>Connaitre les réfugiés maliens au Niger</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		
	<link href="/css/bootstrap.min.css" rel="stylesheet">
   
		
        <link rel="stylesheet" href="css/bootstrap.css">
       <script src="adm3.js"></script>
       <script type="text/javascript" src="js/header.js"></script>
        <script src="js/jquery.js"></script>
        <script src="js/d3.min.js"></script>
        <script src="js/crossfilter.v1.min.js"></script>
        <script src="js/dc.js"></script> 
	<script src="js/bootstrap.js"></script>
		
	<style type="text/css">
        div#niveaudevie-chart { 
            float: right;
        }
		
div#map { 
            float: right;
        }
		
        div#interviewsex-chart {
            float: right;
        }
        .dc-chart .deselected circle {
          stroke: none;
          fill: rgba(0,114,188,0.2);
        }
    </style>    

	    
<script>
 
</script>  
    </head>
     <body>
		<nav class="navbar navbar-inverse navbar-static-top" style="background:#0072bc">
			
			
			
		 
   				
               <h2 style="font-size:22px;color:#fff; text-align:center">Situation socio-économique des réfugiés maliens au Niger </h2>
     
			       
         
               </nav>   
	 
	<div class="container"> 
        		
				
               
				<div class="col-md-30">  
	<g>Dans le but d’apporter une réponse adéquate aux besoins d’assistance et de protection aux réfugiés 
	maliens au Niger, plusieyrs études ont été réalisée dans les sites des régions de Tillabéry 
	(Abala, Mangaizé, Tabareybarey), de Tahoua (Zone d’Accueil des Réfugiés d’Intekan) et 
	dans la zone urbaine de Niamey. L’UNHCR a assuré la coordination générale de ces études en 
	collaboration avec l’Institut de Formation et de Recherche Démographiques (IFORD) partenaire 
	technique de mise en œuvre. </g>
            </div>

		<div id="ca-chart">
<strong>Population actuelle par localite</strong>
<a class="reset" href="javascript:caChart.filterAll();dc.redrawAll();" style="display: none;">Réinitialiser</a>


<div class="clearfix"></div>
	
	<div class="row">
    <div  id="map">
  <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="highcharts-root" style="font-family:&quot;lucida grande&quot;, &quot;lucida sans unicode&quot;, arial, helvetica, sans-serif;font-size:12px;" xmlns="http://www.w3.org/2000/svg" width="600" height="400" viewBox="0 0 600 400"><desc>Created with Highmaps 5.0.12</desc><defs><linearGradient x1="0" y1="0" x2="1" y2="0" id="highcharts-41lsmhi-8"><stop offset="0" stop-color="#e6ebf5" stop-opacity="1"></stop><stop offset="1" stop-color="#003399" stop-opacity="1"></stop></linearGradient><clipPath id="highcharts-41lsmhi-9"><rect x="0" y="0" width="580" height="253" fill="none"></rect></clipPath></defs><rect fill="#ffffff" class="highcharts-background" x="0" y="0" width="600" height="400" rx="0" ry="0"></rect><rect fill="none" class="highcharts-plot-background" x="10" y="73" width="580" height="253"></rect><rect fill="none" class="highcharts-plot-border" x="10" y="73" width="580" height="253"></rect><g class="highcharts-series-group"><g class="highcharts-series highcharts-series-0 highcharts-map-series highcharts-color-0 " transform="translate(10,73) scale(1 1)" clip-path="url(#highcharts-41lsmhi-9)"><g transform="translate(0,0) scale(1 1)"><path fill="rgb(230,235,245)" d="M 166.95136417556347 210.8033214709371 L 170.04258600237247 210.98339264531435 171.21304863582444 212.0638196915777 170.2526690391459 215.9053380782918 166.98137603795968 215.27508896797153 164.82052194543297 212.84412811387898 165.36073546856466 211.07342823250295 166.95136417556347 210.8033214709371 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-color-0 highcharts-name-niamey highcharts-key-ne-ni"></path><path fill="rgb(192,204,230)" d="M 182.58754448398577 237.6039145907473 L 179.40628706998814 238.77437722419927 178.74602609727165 239.82479240806643 173.01376037959668 240.63511269276393 172.29347568208777 241.235349940688 173.16381969157771 244.9568208778173 174.18422301304864 245.797153024911 171.6632265717675 247.23772241992882 166.20106761565836 239.19454329774612 166.20106761565836 237.5739027283511 169.95255041518385 236.7635824436536 168.7520759193357 232.50189798339264 167.2214709371293 230.64116251482798 164.3403321470937 230.16097271648871 163.04982206405694 230.7311981020166 161.18908659549228 232.68196915776986 156.35717674970346 232.14175563463817 155.06666666666666 231.5715302491103 146.36322657176748 223.82846975088967 144.23238434163702 223.3182680901542 143.3920521945433 222.20782918149465 143.54211150652432 216.5655990510083 143.84223013048637 215.7252669039146 147.68374851720048 217.01577698695135 148.13392645314354 215.935349940688 145.25278766310794 214.16465005931198 143.3020166073547 211.04341637010674 140.03072360616844 210.02301304863582 139.19039145907473 208.76251482799523 136.39928825622775 208.73250296559905 136.0391459074733 206.81174377224198 134.05836298932385 205.10106761565837 132.1976275207592 202.15990510083034 130.7870699881376 198.91862396204033 131.92752075919336 196.24756820877818 127.84590747330961 191.86583629893238 127.18564650059312 189.67497034400947 128.74626334519573 185.74341637010676 128.05599051008303 183.8226571767497 128.89632265717674 182.3520759193357 128.98635824436536 180.041162514828 131.71743772241993 180.85148279952548 135.1387900355872 180.31126927639383 138.35005931198103 181.6017793594306 140.45088967971532 181.03155397390273 144.77259786476867 180.70142348754447 151.19513641755634 175.11921708185054 152.45563463819693 174.66903914590748 187.3594306049822 174.48896797153023 187.59952550415184 172.80830367734282 188.9200474495848 172.6282325029656 197.92360616844604 174.42894424673784 198.4037959667853 171.39774614472122 200.23451957295373 170.3173190984579 201.91518386714117 168.54661921708185 204.34614472123369 167.88635824436534 205.72669039145907 166.7158956109134 210.25848161328588 180.37129300118622 210.3185053380783 184.7230130486358 213.19964412811387 189.67497034400947 212.74946619217081 192.22597864768682 210.94875444839857 193.99667852906285 208.69786476868327 195.22716488730723 206.83712930011862 195.52728351126927 203.92597864768683 197.9582443653618 203.0856465005931 199.30877817319097 201.7051008303677 203.51043890865955 197.7435349940688 207.0218268090154 193.51186239620404 208.85255041518386 190.21055753262158 207.6820877817319 188.64994068801897 211.55361803084222 186.18896797153025 211.76370106761564 185.37864768683275 213.26429418742586 184.02811387900357 213.5944246737841 183.75800711743773 216.32550415183866 182.49750889679714 218.9965599051008 180.18659549228943 218.726453143535 178.2958481613286 220.13701067615656 175.92491103202846 220.34709371293 175.17461447212338 221.57758007117437 176.40510083036773 224.48873072360615 179.76642941874258 224.96892052194542 180.33665480427047 225.86927639383154 177.78564650059312 227.7600237247924 178.17580071174376 234.99288256227757 180.15658362989325 234.6327402135231 180.48671411625148 236.6135231316726 182.58754448398577 237.6039145907473 M 166.95136417556347 210.8033214709371 L 165.36073546856466 211.07342823250295 164.82052194543297 212.84412811387898 166.98137603795968 215.27508896797153 170.2526690391459 215.9053380782918 171.21304863582444 212.0638196915777 170.04258600237247 210.98339264531435 166.95136417556347 210.8033214709371 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-color-0 highcharts-name-tillabéri highcharts-key-ne-tl"></path><path fill="rgb(0,51,153)" d="M 213.19964412811387 189.67497034400947 L 210.3185053380783 184.7230130486358 210.25848161328588 180.37129300118622 205.72669039145907 166.7158956109134 206.41696322657177 163.1744958481613 208.12763938315538 161.13368920521944 207.91755634638196 158.91281138790035 209.86832740213524 154.41103202846975 212.47935943060497 151.95005931198102 212.62941874258598 143.48671411625148 213.16963226571767 139.79525504151837 213.82989323843418 139.52514827995253 214.52016607354687 104.11115065243179 225.53451957295374 104.50130486358243 227.4552787663108 105.13155397390273 224.6641755634638 110.65373665480426 224.63416370106762 116.26595492289442 224.21399762752077 118.96702253855278 227.03511269276393 119.41720047449584 228.26559905100828 122.59845788849347 231.80699881376037 125.62965599051007 235.31838671411623 130.1914590747331 246.21269276393832 137.27425860023723 250.77449584816134 140.84567022538553 252.66524317912217 143.06654804270462 257.0769869513642 153.9908659549229 259.5379596678529 156.45183867141162 262.7192170818505 157.32218268090153 263.1693950177936 158.16251482799524 262.6892052194543 161.6138790035587 263.79964412811387 173.85871886120995 260.7684460260973 184.66298932384342 259.4179122182681 195.52728351126927 260.58837485172 200.86939501779358 260.288256227758 203.54045077105573 258.7276393831554 204.14068801897983 256.4467378410439 206.03143534994066 256.6868327402135 207.8621589561091 255.48635824436536 209.2126927639383 255.36631079478053 211.4935943060498 251.91494661921706 211.76370106761564 240.1202846975089 206.93179122182678 236.33879003558718 207.26192170818504 234.20794780545668 209.45278766310793 226.91506524317913 209.75290628706998 225.47449584816133 208.85255041518386 220.6125741399763 209.8729537366548 219.4721233689205 206.1214709371293 217.46132858837484 202.55005931198102 216.56097271648872 194.41684460260973 215.03036773428232 191.17556346381969 213.19964412811387 189.67497034400947 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-color-0 highcharts-name-tahoua highcharts-key-ne-th"></path><path fill="#f7f7f7" d="M 214.52016607354687 104.11115065243179 L 214.76026097271648 93.45693950177936 245.85255041518388 87.8447212336892 247.65326215895612 86.91435349940687 271.12253855278766 66.08612099644128 281.2665480427046 57.41269276393831 370.2817319098458 0 400.50367734282327 6.362514827995255 402.87461447212337 7.59300118623962 415.23950177935944 17.79703440094899 415.8397390272835 17.887069988137604 430.42550415183865 9.15361803084223 435.22740213523133 30.552075919335703 435.8576512455516 40.99620403321471 438.3786476868327 43.1870699881376 445.04128113879 52.61079478054567 443.78078291814944 53.96132858837485 443.84080664294186 55.94211150652431 452.5742586002372 64.7055753262159 452.8143534994069 65.90604982206405 449.15290628707 73.34899169632266 448.5826809015421 75.05966785290629 446.81198102016606 116.20593119810201 393.99110320284694 117.88659549228943 378.4749703440095 125.56963226571767 373.6130486358244 129.02099644128114 366.6803084223013 131.6620403321471 358.3370106761566 137.6043890865955 352.3046263345195 139.49513641755635 318.72135231316724 161.76393831553972 311.45848161328587 164.5550415183867 302.9651245551602 169.29691577698694 299.1536180308422 170.6174377224199 293.33131672597864 170.76749703440095 291.71067615658365 171.60782918149465 288.1692763938315 171.63784104389086 279.855990510083 170.3473309608541 279.0156583629893 171.24768683274021 277.3049822064057 175.95954922894424 273.16334519572956 173.70865954922894 263.79964412811387 173.85871886120995 262.6892052194543 161.6138790035587 263.1693950177936 158.16251482799524 262.7192170818505 157.32218268090153 259.5379596678529 156.45183867141162 257.0769869513642 153.9908659549229 252.66524317912217 143.06654804270462 250.77449584816134 140.84567022538553 246.21269276393832 137.27425860023723 235.31838671411623 130.1914590747331 231.80699881376037 125.62965599051007 228.26559905100828 122.59845788849347 227.03511269276393 119.41720047449584 224.21399762752077 118.96702253855278 224.63416370106762 116.26595492289442 224.6641755634638 110.65373665480426 227.4552787663108 105.13155397390273 225.53451957295374 104.50130486358243 214.52016607354687 104.11115065243179 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-null-point highcharts-color-0 highcharts-name-agadez highcharts-key-ne-ag"></path><path fill="#f7f7f7" d="M 263.79964412811387 173.85871886120995 L 273.16334519572956 173.70865954922894 277.3049822064057 175.95954922894424 278.9256227758007 177.49015421115064 279.10569395017797 180.8814946619217 280.1861209964413 183.0123368920522 280.81637010676155 186.52372479240805 282.1368920521945 189.16476868327402 285.1080664294187 191.47568208778173 285.37817319098457 194.68695136417554 287.26892052194546 195.49727164887307 289.5498220640569 193.576512455516 291.62064056939505 193.4564650059312 292.82111506524313 195.04709371293 296.18244365361807 196.66773428232503 298.76346381969154 198.61850533807828 299.2136417556346 200.11909845788847 302.1247924080664 202.21992882562276 302.6049822064057 206.06144721233687 302.21482799525506 206.93179122182678 296.2424673784104 209.9329774614472 296.032384341637 211.82372479240806 297.92313167259783 212.9641755634638 297.4429418742586 215.24507710557532 297.92313167259783 218.2762752075919 296.42253855278767 221.48754448398574 292.8811387900356 219.35670225385527 287.5690391459075 218.60640569395017 286.1284697508897 218.9665480427046 278.5054567022538 223.52835112692762 274.4238434163701 223.40830367734281 272.14294187425855 225.77924080664292 268.30142348754447 225.74922894424674 265.63036773428234 223.07817319098456 263.43950177935943 218.9965599051008 260.0481613285884 215.2150652431791 257.10699881376036 212.39395017793592 255.36631079478053 211.4935943060498 255.48635824436536 209.2126927639383 256.6868327402135 207.8621589561091 256.4467378410439 206.03143534994066 258.7276393831554 204.14068801897983 260.288256227758 203.54045077105573 260.58837485172 200.86939501779358 259.4179122182681 195.52728351126927 260.7684460260973 184.66298932384342 263.79964412811387 173.85871886120995 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-null-point highcharts-color-0 highcharts-name-maradi highcharts-key-ne-ma"></path><path fill="#f7f7f7" d="M 277.3049822064057 175.95954922894424 L 279.0156583629893 171.24768683274021 279.855990510083 170.3473309608541 288.1692763938315 171.63784104389086 291.71067615658365 171.60782918149465 293.33131672597864 170.76749703440095 299.1536180308422 170.6174377224199 302.9651245551602 169.29691577698694 311.45848161328587 164.5550415183867 318.72135231316724 161.76393831553972 352.3046263345195 139.49513641755635 358.3370106761566 137.6043890865955 366.6803084223013 131.6620403321471 373.6130486358244 129.02099644128114 374.723487544484 191.02550415183867 372.9527876631079 191.98588374851718 373.0428232502966 193.87663107947805 374.2432977461447 194.83701067615658 372.29252669039147 196.03748517200472 370.10166073546856 196.15753262158955 364.8795966785291 199.63890865954923 361.09810201660736 200.86939501779358 358.5771055753262 200.56927639383153 350.1737841043891 208.49240806642942 349.7836298932384 210.6832740213523 346.21221826809017 214.464768683274 346.75243179122185 217.88612099644126 336.5784104389087 220.16702253855277 331.7164887307236 222.77805456702254 330.9361803084223 224.27864768683273 329.40557532621585 225.29905100830368 325.6841043890866 229.74080664294186 324.6336892052194 230.19098457888492 320.16192170818505 229.71079478054565 317.88102016607354 230.0409252669039 311.038315539739 229.2606168446026 305.4861209964413 227.63997627520757 302.4249110320285 224.60877817319098 299.60379596678524 224.39869513641756 296.42253855278767 221.48754448398574 297.92313167259783 218.2762752075919 297.4429418742586 215.24507710557532 297.92313167259783 212.9641755634638 296.032384341637 211.82372479240806 296.2424673784104 209.9329774614472 302.21482799525506 206.93179122182678 302.6049822064057 206.06144721233687 302.1247924080664 202.21992882562276 299.2136417556346 200.11909845788847 298.76346381969154 198.61850533807828 296.18244365361807 196.66773428232503 292.82111506524313 195.04709371293 291.62064056939505 193.4564650059312 289.5498220640569 193.576512455516 287.26892052194546 195.49727164887307 285.37817319098457 194.68695136417554 285.1080664294187 191.47568208778173 282.1368920521945 189.16476868327402 280.81637010676155 186.52372479240805 280.1861209964413 183.0123368920522 279.10569395017797 180.8814946619217 278.9256227758007 177.49015421115064 277.3049822064057 175.95954922894424 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-null-point highcharts-color-0 highcharts-name-zinder highcharts-key-ne-zi"></path><path fill="#f7f7f7" d="M 220.6125741399763 209.8729537366548 L 218.12158956109135 210.44317912218267 215.99074733096086 211.55361803084222 212.62941874258598 214.64483985765122 210.04839857651245 215.0650059311981 209.89833926453144 220.19703440094898 209.08801897983392 225.26903914590747 205.63665480427045 230.49110320284697 199.57425860023724 235.14294187425858 199.60427046263345 240.72514827995255 198.94400948991697 244.47663107947804 199.51423487544486 246.78754448398576 198.4638196915777 248.49822064056937 199.72431791221828 251.6494661921708 198.22372479240806 253 196.302965599051 250.08884934756819 191.8612099644128 248.10806642941873 191.1109134045077 245.94721233689205 187.14934756820878 242.10569395017794 186.03890865954924 240.30498220640567 184.50830367734284 239.7347568208778 182.58754448398577 237.6039145907473 180.48671411625148 236.6135231316726 180.15658362989325 234.6327402135231 178.17580071174376 234.99288256227757 177.78564650059312 227.7600237247924 180.33665480427047 225.86927639383154 179.76642941874258 224.96892052194542 176.40510083036773 224.48873072360615 175.17461447212338 221.57758007117437 175.92491103202846 220.34709371293 178.2958481613286 220.13701067615656 180.18659549228943 218.726453143535 182.49750889679714 218.9965599051008 183.75800711743773 216.32550415183866 184.02811387900357 213.5944246737841 185.37864768683275 213.26429418742586 186.18896797153025 211.76370106761564 188.64994068801897 211.55361803084222 190.21055753262158 207.6820877817319 193.51186239620404 208.85255041518386 197.7435349940688 207.0218268090154 201.7051008303677 203.51043890865955 203.0856465005931 199.30877817319097 203.92597864768683 197.9582443653618 206.83712930011862 195.52728351126927 208.69786476868327 195.22716488730723 210.94875444839857 193.99667852906285 212.74946619217081 192.22597864768682 213.19964412811387 189.67497034400947 215.03036773428232 191.17556346381969 216.56097271648872 194.41684460260973 217.46132858837484 202.55005931198102 219.4721233689205 206.1214709371293 220.6125741399763 209.8729537366548 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-null-point highcharts-color-0 highcharts-name-dosso highcharts-key-ne-ds"></path><path fill="#f7f7f7" d="M 346.75243179122185 217.88612099644126 L 346.21221826809017 214.464768683274 349.7836298932384 210.6832740213523 350.1737841043891 208.49240806642942 358.5771055753262 200.56927639383153 361.09810201660736 200.86939501779358 364.8795966785291 199.63890865954923 370.10166073546856 196.15753262158955 372.29252669039147 196.03748517200472 374.2432977461447 194.83701067615658 373.0428232502966 193.87663107947805 372.9527876631079 191.98588374851718 374.723487544484 191.02550415183867 373.6130486358244 129.02099644128114 378.4749703440095 125.56963226571767 393.99110320284694 117.88659549228943 446.81198102016606 116.20593119810201 445.7015421115065 139.61518386714116 445.31138790035584 140.51553973902728 423.58279952550413 165.45539739027282 412.8385527876631 181.42170818505338 411.3679715302491 184.753024911032 411.51803084223013 187.93428232502964 409.0870699881376 189.70498220640567 409.53724792408065 190.84543297746143 408.69691577698694 192.25599051008302 405.72574139976274 193.12633451957294 405.09549228944246 195.34721233689203 405.84578884934757 197.92823250296559 408.7269276393831 209.8129300118624 403.5348754448398 209.69288256227756 401.5841043890866 211.373546856465 400.83380782918147 213.32431791221825 396.6621589561091 213.5944246737841 393.3308422301305 215.30510083036773 390.32965599051005 218.33629893238432 386.938315539739 220.10699881376036 386.39810201660737 222.20782918149465 385.13760379596675 223.97852906287068 382.0463819691578 223.70842230130486 379.40533807829183 222.74804270462633 376.4041518386714 222.98813760379596 372.0524317912218 220.2870699881376 369.7115065243179 219.35670225385527 363.3489916963226 217.82609727164885 353.1449584816133 218.0061684460261 349.3334519572953 217.58600237247924 346.75243179122185 217.88612099644126 Z" stroke="#cccccc" stroke-width="1" vector-effect="non-scaling-stroke" class="highcharts-point highcharts-null-point highcharts-color-0 highcharts-name-diffa highcharts-key-ne-df"></path></g></g><g class="highcharts-markers highcharts-series-0 highcharts-map-series highcharts-color-0 " transform="translate(10,73) scale(1 1)" clip-path="none"></g></g><text x="300" text-anchor="middle" class="highcharts-title" style="color:#333333;font-size:18px;fill:#333333;" y="24"><tspan>Highmaps basic demo</tspan></text><text x="300" text-anchor="middle" class="highcharts-subtitle" style="color:#666666;fill:#666666;" y="52"><tspan>Source map: </tspan><tspan dx="0">Niger</tspan></text><g class="highcharts-data-labels highcharts-series-0 highcharts-map-series highcharts-color-0 " visibility="visible" transform="translate(10,73) scale(1 1)" clip-path="url(#highcharts-41lsmhi-9)"><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(147,204)" opacity="0" visibility="hidden"><text x="0" style="font-size:11px;font-weight:bold;color:#000000;fill:#000000;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="2px" stroke-linejoin="round" style="">Niamey</tspan><tspan x="0" y="11">Niamey</tspan></text></g><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(149,191)"><text x="0" style="font-size:11px;font-weight:bold;color:#000000;fill:#000000;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="2px" stroke-linejoin="round" style="">Tillabéri</tspan><tspan x="0" y="11">Tillabéri</tspan></text></g><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(214,161)"><text x="0" style="font-size:11px;font-weight:bold;color:#ffffff;fill:#ffffff;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#000000" stroke="#000000" stroke-width="2px" stroke-linejoin="round" style="">Tahoua</tspan><tspan x="0" y="11">Tahoua</tspan></text></g><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(315,82)"><text x="0" style="font-size:11px;font-weight:bold;color:#000000;fill:#000000;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="2px" stroke-linejoin="round" style="">Agadez</tspan><tspan x="0" y="11">Agadez</tspan></text></g><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(262,195)"><text x="0" style="font-size:11px;font-weight:bold;color:#000000;fill:#000000;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="2px" stroke-linejoin="round" style="">Maradi</tspan><tspan x="0" y="11">Maradi</tspan></text></g><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(312,181)"><text x="0" style="font-size:11px;font-weight:bold;color:#000000;fill:#000000;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="2px" stroke-linejoin="round" style="">Zinder</tspan><tspan x="0" y="11">Zinder</tspan></text></g><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(176,215)"><text x="0" style="font-size:11px;font-weight:bold;color:#000000;fill:#000000;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="2px" stroke-linejoin="round" style="">Dosso</tspan><tspan x="0" y="11">Dosso</tspan></text></g><g class="highcharts-label highcharts-data-label highcharts-data-label-color-0 " transform="translate(387,140)"><text x="0" style="font-size:11px;font-weight:bold;color:#000000;fill:#000000;" y="11"><tspan x="0" y="11" class="highcharts-text-outline" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="2px" stroke-linejoin="round" style="">Diffa</tspan><tspan x="0" y="11">Diffa</tspan></text></g></g><g class="highcharts-legend" transform="translate(193,338)"><rect fill="none" class="highcharts-legend-box" rx="0" ry="0" x="0" y="0" width="214" height="47" visibility="visible"></rect><g><g><g class="highcharts-legend-item highcharts-undefined-series highcharts-color-undefined" transform="translate(8,3)"><rect x="0" y="4" width="200" height="12" fill="url(#highcharts-41lsmhi-8)"></rect><g class="highcharts-grid highcharts-coloraxis-grid "><path fill="none" stroke="#e6e6e6" stroke-width="1" class="highcharts-grid-line" d="M -0.5 4 L -0.5 16" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" class="highcharts-grid-line" d="M 66.5 4 L 66.5 16" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" class="highcharts-grid-line" d="M 132.5 4 L 132.5 16" opacity="1"></path><path fill="none" stroke="#e6e6e6" stroke-width="1" class="highcharts-grid-line" d="M 200.5 4 L 200.5 16" opacity="1"></path></g><text x="21" style="color:#333333;font-size:12px;font-weight:bold;cursor:pointer;fill:#333333;" text-anchor="start" y="15"></text><g class="highcharts-axis highcharts-coloraxis "><path fill="none" class="highcharts-axis-line" d="M 0 16 L 200 16"></path></g><g class="highcharts-axis-labels highcharts-coloraxis-labels "><text x="3.4749999046325684" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="35" opacity="1">0</text><text x="66.66666666666667" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="35" opacity="1">2</text><text x="133.33333333333334" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="35" opacity="1">4</text><text x="196.52500009536743" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="35" opacity="1">6</text></g></g></g></g></g><text x="590" class="highcharts-credits" text-anchor="end" style="cursor:pointer;color:#999999;font-size:9px;fill:#999999;" y="395"><tspan>Highcharts.com © </tspan><tspan dx="0">Natural Earth</tspan><title>Copyright (c) 2015 Highsoft AS, Based on data from Natural Earth</title></text></svg>


 
    <span class="reset" style="display: none;">Selected: <span class="filter"></span></span>
    </div>

    <div class="span4">
        <div id="niveaudevie-chart">
            <strong>Evolution de niveau de vie par an</strong>
            <div class="clearfix"></div>
        </div>

        <div id="interviewsex-chart">
            <strong>Répartition par sexe (%)</strong>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
	

	
<div class="clearfix"></div>

<div>
    <a href="javascript:dc.filterAll(); dc.renderAll();">Reset All</a>
</div>

</div>
		   
	     
	     
			
			
			<div class='row' style="margin-left:50px">
					<div class="col-md-3" align="middle">
							<h4><gb>Organisation</gb></h4>
							
						<div id="test"></div>
					</div>
					
					<div class="col-md-6">
							<div class="row">
								<div class="col-md-6" align="middle">
									<h4><gb>Département</gb></h4>
									<div id="departement" class="col-xs-12"></div>                    
								</div>   
								<div class="col-md-6" align="middle">
									<h4><gb>Commune</gb></h4>
									<div id="commune" class="col-xs-12"></div>  
								</div>	
							</div>	
							<div class="row">
								<div class="col-xs-6" align="middle">
									<h4><gb>Etat des activités</gb></h4>
									<div id="etat" class="col-md-12"></div>                    
								</div>   
								<div class="col-xs-6" align="middle">	
									<h4><gb>Population Bénéficiaire</gb></h4>
									<div id="activity" class="col-md-12"></div>   	
								</div>	
							</div>
							
					</div>
					<div class="col-md-3" align="middle">
							<h4><gb>Bailleur</gb></h4>	
							<div id="bailleur" ></div>
							<div class="row" align="middle"></div>	
							
					</div>
							
					
			</div>
				
			
						
			
			<div class='row'>
				
							
			</div>
			
	<script type="text/javascript">


var map_chart = dc.geoChoroplethChart("#map");
 
	
var etat_chart = dc.barChart("#etat");
var sector1_chart = dc.barChart("#sector");
var pop_chart = dc.pieChart("#activity");
var organisation_chart = dc.rowChart("#organisation");	
//var dataTable = dc.dataTable("#dc-table-graph");
var departement_chart = dc.rowChart("#departement");	
var commune_chart = dc.rowChart("#commune");
var bailleur_chart = dc.rowChart("#bailleur");	

d3.csv("6W_Diffa_Mar2017.csv", function(error, data) {
  
		var cf              = crossfilter(data);
		
		
	  
		cf.etat = cf.dimension(function(d){ return d.EtatProjet; });
		cf.sector = cf.dimension(function(d){ return d.SecteurActivite; });
		cf.activity = cf.dimension(function(d){ return d.SousSecteur; });
		cf.organisation = cf.dimension(function(d){ return d.Acteur; });
		
		cf.siteaccueil = cf.dimension(function (d) {return d.SiteAccueil;});
		cf.departement = cf.dimension(function(d){ return d.Departement; });
		cf.commune = cf.dimension(function(d){ return d.Commune; });
		cf.pop = cf.dimension(function(d){ 
		
			if (d.PopulationBeneficiaire ==      "Déplacés" )
			  return "Déplacés"
			else if (d.PopulationBeneficiaire == "Déplacés/Hôtes")
			  return "Déplacés/Hôtes" 
			else if (d.PopulationBeneficiaire == "Déplacés/Hôtes/Retournés")
			  return "Déplacés/Hôtes/Réfugiés*"
			else if (d.PopulationBeneficiaire == "Déplacés/Hôtes/Réfugiés")
			  return "Déplacés/Hôtes/Réfugiés*" 	
			else if (d.PopulationBeneficiaire == "Déplacés/Retournés")
			  return "Déplacés/Réfugiés*" 
			else if (d.PopulationBeneficiaire == "Déplacés/Réfugiés")
			  return "Déplacés/Réfugiés*"   
			else if (d.PopulationBeneficiaire == "Déplacés/Réfugiés/Ménages TP")
			  return "Déplacés/Hôtes/Réfugiés*" 
			else if (d.PopulationBeneficiaire == "Déplacés/Réfugiés/Retournés")
			  return "Déplacés/Réfugiés*" 	
			else if (d.PopulationBeneficiaire == "Hôtes")
			  return "Hôtes" 
			else if (d.PopulationBeneficiaire == "Hôtes/Retournés" )
			  return "Hôtes/Réfugiés*"
			else if (d.PopulationBeneficiaire == "Hôtes/Réfugiés/Retournés")
			  return "Hôtes/Réfugiés*" 
			else if (d.PopulationBeneficiaire == "Réfugiés/Retournés" )
			  return "Réfugiés*"
			else if (d.PopulationBeneficiaire == "Réfugiés")
			  return "Réfugiés*" 
			else if (d.PopulationBeneficiaire == "Déplacés/Réfugiés/Retournés/Hôtes" )
			  return "Tous"	  
			else if (d.PopulationBeneficiaire == "Tous" )
			  return "Tous"	
			  
			else 
			  return "Tous"      
			
			}); 
		
		
		
		
		cf.dpcode = cf.dimension(function(d){ return d.Dpcode; });
		cf.bailleur = cf.dimension(function(d){ return d.Bailleur; });
		
		
		var etatValueGroupCount = cf.etat.group()
			.reduceCount(function(d) { return d.EtatProjet; }); // counts 
		var sectorValueGroupCount = cf.sector.group()
			.reduceCount(function(d) { return d.SecteurActivite; }); // counts 
		var departement = cf.departement.group();
		var commune = cf.commune.group();
		var pop = cf.pop.group();
		var activity = cf.activity.group();
		var organisation = cf.organisation.group();
		var siteaccueil = cf.siteaccueil.group();
		var dpcode = cf.dpcode.group();
		var bailleur = cf.bailleur.group();
		
		var all = cf.groupAll();  
		
	
	
map_chart.width(1000).height(350)
        .dimension(cf.dpcode)
        .group(dpcode)
        .colors(['#c7c9cb', '#ffc266'])
        .colorDomain([0, 1])
        .colorAccessor(function (d) {
            if(d>0){
                return 1;
            } else {
                return 0;
            }
        })
       .overlayGeoJson(dis.features, "District", function (d) {
            return d.properties.id3;
        })
        .projection(d3.geo.mercator().center([12.6,13.5]).scale(12000))
        .title(function(d){
            var disname="";
            dis.features.forEach(function(e){
                if(d.key == e.properties.id3){
                    disname= e.properties.name;
                }
            });
            return disname;
        })
		;
	

	
etat_chart.width(300)
		.height(280)
		.margins({top: 10, right: 10, bottom: 20, left: 40})
        .dimension(cf.etat)
        .group(etatValueGroupCount)        	
		.transitionDuration(500)
		.centerBar(false)	
		.gap(40)  // 65 = norm
		.colors("#E54143")
		.x(d3.scale.ordinal().domain(["Réalisé","En cours","Planifié"]))
		.xUnits(dc.units.ordinal)
		.elasticY(true)
		.yAxisLabel('Nombre d’activités')
		.xAxis().tickFormat();
		
bailleur_chart.width(300).height(695)
        .margins({top: 0, left: 10, right: 10, bottom: 40})
        .dimension(cf.bailleur)
        .group(bailleur)
        .elasticX(true)
		
		.data(function(group) {
            return group.top(40);
        })
        .colors(['#D68533','#4667b4','#0066FF','#FFFF00','#dd2728','#9460bd','#8c5646','#e177c2','#4f7f7f','#bcb622','#17becf','#367f0e','#9467bd','#c4fc94','#cc564b','#bcb322','#6e9ac8','#D68533'
            ])
        .colorDomain([0,17])
        .colorAccessor(function(d, i){return i%17;}) 
		.xAxis().ticks(4);	
		
sector1_chart.width(960)
		.height(250)
		.margins({top: 10, right: 50, bottom: 40, left: 50})
        .dimension(cf.sector)
        .group(sectorValueGroupCount)        	
		.transitionDuration(500)
		.centerBar(false)	
		.gap(10)  // 65 = norm
		.colors("#E54143")
		.x(d3.scale.ordinal().domain(["Abris/BNA","Education","Nutrition","Communication","Protection","Protection de l'enfance","Santé","Sécurité Alimentaire","EHA","Logistique","Relèvement Précoce"]))
		.xUnits(dc.units.ordinal)
		.elasticY(true)
		.xAxisLabel('Secteur')
		.yAxisLabel('Nombre d’activités')
		.xAxis().tickFormat(function (d) {
        return d});	
		
 		
pop_chart.width(230).height(370)
        .dimension(cf.pop)
        .group(pop)
		.radius(70)
		.innerRadius(20)
        .colors(['#e177c2','#009933' ,'#ffff00','#0059b3' ,'#f47f0e','#cccc99','#E54143','#36ff0e','#9460bd', '#8c5646'
				])

        .colorDomain([0,10])
        .colorAccessor(function(d, i){return i%10;})
		.legend(dc.legend().x(10).y(5).gap(4))
		.label(function(d) { return d.pop; })
		.renderLabel(true);		



organisation_chart.width(300).height(695)
        .margins({top: 0, left: 10, right: 10, bottom: 40})
        .dimension(cf.organisation)
        .group(organisation)
        .elasticX(true)
        .data(function(group) {
            return group.top(43);
        })
        .colors(['#1f77b4',
                 '#ff7f0e',
                 '#2ca02c',
                 '#d62728',
                 '#9467bd',
                 '#8c564b',
                 '#e377c2',
                 '#7f7f7f',
				 '#bcbd22',
                 '#17becf',
                 '#ff7f0e',
                 '#9467bd',
                 '#c49c94',
                 '#8c564b',
                 '#bcbd22',
                 '#9e9ac8'
            ])
        .colorDomain([0,8])
        .colorAccessor(function(d, i){return i%8;})
		.xAxis().ticks(4);
		
departement_chart.width(270).height(350)
        .margins({top: 0, left: 10, right: 10, bottom: 40})
        .dimension(cf.departement)
        .group(departement)
        .elasticX(true)
        .data(function(group) {
            return group.top(15);
        })
        .colors(['#1f77b4',
                 '#ff7f0e',
                 '#2ca02c',
                 '#d62728',
                 '#9467bd',
                 '#8c564b',
                 '#e377c2'
                 
            ])
        .colorDomain([0,6])
        .colorAccessor(function(d, i){return i%6;})
		.xAxis().ticks(5);

commune_chart.width(270).height(350)
        .margins({top: 0, left: 10, right: 10, bottom: 40})
        .dimension(cf.commune)
        .group(commune)
        .elasticX(true)
        .data(function(group) {
            return group.top(20);
        })
        .colors(['#7f7f7f',
				 '#bc9d22',
                 '#17becf',
                 '#427f0e',
                 '#9467bd',
                 '#c49c94',
                 '#8c564b',
                 '#fcbd22',
                 '#9e9ac8',
                 '#7f7f7f',
				 '#bcbd22',
                 '#17becf',
                 '#ff7f0e'
                 
            ])
        .colorDomain([0,12])
        .colorAccessor(function(d, i){return i%12;})
		.xAxis().ticks(5);
			
		
	
		
		dc.dataCount("#count-info")
	.dimension(cf)
	.group(all);
	
	
      dc.renderAll();
	  
	 
	  
	var g = d3.selectAll("#organisation").select("svg").append("g");
    g.append("text").attr("class", "x-axis-label").attr("text-anchor", "middle").attr("x", 150).attr("y", 685).text("Nombre d’activités");  
	  
	var g1 = d3.selectAll("#bailleur").select("svg").append("g");	
	g1.append("text").attr("class", "x-axis-label").attr("text-anchor", "middle").attr("x", 160).attr("y", 685).text("Nombre d’activités");	
	
	var g2 = d3.selectAll("#departement").select("svg").append("g");	
	g2.append("text").attr("class", "x-axis-label").attr("text-anchor", "middle").attr("x", 120).attr("y", 340).text("Nombre d’activités par département");	
	
	var g3 = d3.selectAll("#commune").select("svg").append("g");	
	g3.append("text").attr("class", "x-axis-label").attr("text-anchor", "middle").attr("x", 120).attr("y", 340).text("Nombre d’activités par commune");	
	
	var g4 = d3.selectAll("#activity").select("svg").append("g");	
	g4.append("text").attr("class", "x-axis-label").attr("text-anchor", "middle").attr("x", 120).attr("y",300).text("* : Réfugiés ou retournés");	
			
	
		
		
	var dataset = [	[150, 220, "Goudoumaria"], [230, 130,"N'Gueil Bely"], [350, 160,"Foulatari"], [310, 270,"Mainé-Soroa"], [400, 240,"Chetimari"],
							[468, 280,"Diffa"], [470, 240,"Gueskerou"], [470, 67,"N'Gourti"], [550, 210,"Toumour"], [590, 140,"Kabelawa"]	, [600, 70,"N'Guigmi"]	, [640, 190,"Bosso"]		  ];
	
	var h = d3.selectAll("#map").select("svg").append("g");
    
    h.selectAll("text")
			   .data(dataset)
			   .enter()
			   .append("text")
			   .attr("font-family", "calibri")
			   .attr("font-size", "14px")
			   .attr("stroke", "#555555")
			   .text(function(d) {
			   		return d[2];
			   })
			   .attr("x", function(d) {
			   		return d[0];
			   })
			   .attr("y", function(d) {
			   		return d[1];
			   });
	 });		   

</script>
	
		
    
<script type="text/javascript" src="/js/d3.js"></script>
<script type="text/javascript" src="/js/crossfilter.js"></script>
<script type="text/javascript" src="/js/dc.js"></script>
<script type="text/javascript">
    var numberFormat = d3.format(".2f");

    var caChart = dc.bubbleOverlay("#ca-chart")
            .svg(d3.select("#ca-chart svg"));

    var niveaudevieChart = dc.barChart("#niveaudevie-chart");

    var interviewsexChart = dc.lineChart("#interviewsex-chart");

    function isTotalCrimeRateRecord(v) {
        return v.type == "Total, all violations" && v.sub_type == "Rate per 100,000 population";
    }

    function isTotalCrimeIncidentRecord(v) {
        return v.type == "Total, all violations" && v.sub_type == "Actual incidents";
    }

    function isViolentCrimeRateRecord(v) {
        return v.type == "Total violent Criminal Code violations" && v.sub_type == "Rate per 100,000 population";
    }

    function isViolentCrimeIncidentRecord(v) {
        return v.type == "Total violent Criminal Code violations" && v.sub_type == "Actual incidents";
    }

    function isHomicideRateRecord(v) {
        return v.type == "Homicide" && v.sub_type == "Rate per 100,000 population";
    }

    function isHomicideIncidentRecord(v) {
        return v.type == "Homicide" && v.sub_type == "Actual incidents";
    }

    d3.csv("NigerFigures.csv", function(csv) {
        var data = crossfilter(csv);

        var cities = data.dimension(function(d) {
            return d.city;
        });
        var totalCrimeRateByCity = cities.group().reduce(
                function(p, v) {
                    if (isTotalCrimeRateRecord(v)) {
                        p.totalCrimeRecords++;
                        p.totalCrimeRate += +v.number;
                        p.avgTotalCrimeRate = p.totalCrimeRate / p.totalCrimeRecords;
                    }
                    if (isViolentCrimeRateRecord(v)) {
                        p.violentCrimeRecords++;
                        p.violentCrimeRate += +v.number;
                        p.avgViolentCrimeRate = p.violentCrimeRate / p.violentCrimeRecords;
                    }
                    p.violentCrimeRatio = p.avgViolentCrimeRate / p.avgTotalCrimeRate * 100;
                    return p;
                },
                function(p, v) {
                    if (isTotalCrimeRateRecord(v)) {
                        p.totalCrimeRecords--;
                        p.totalCrimeRate -= +v.number;
                        p.avgTotalCrimeRate = p.totalCrimeRate / p.totalCrimeRecords;
                    }
                    if (isViolentCrimeRateRecord(v)) {
                        p.violentCrimeRecords--;
                        p.violentCrimeRate -= +v.number;
                        p.avgViolentCrimeRate = p.violentCrimeRate / p.violentCrimeRecords;
                    }
                    p.violentCrimeRatio = p.avgViolentCrimeRate / p.avgTotalCrimeRate * 100;
                    return p;
                },
                function() {
                    return {
                        totalCrimeRecords:0,totalCrimeRate:0,avgTotalCrimeRate:0,
                        violentCrimeRecords:0,violentCrimeRate:0,avgViolentCrimeRate:0,
                        violentCrimeRatio:0
                    };
                }
        );

        var years = data.dimension(function(d) {
            return d.year; 
        });
        var crimeIncidentByYear = years.group().reduce(
                function(p, v) {
                    if (isTotalCrimeRateRecord(v)) {
                        p.totalCrimeRecords++;
                        p.totalCrime += +v.number;
                        p.totalCrimeAvg = p.totalCrime / p.totalCrimeRecords;
                    }
                    if (isViolentCrimeRateRecord(v)) {
                        p.violentCrimeRecords++;
                        p.violentCrime += +v.number;
                        p.violentCrimeAvg = p.violentCrime / p.violentCrimeRecords;
                    }
                    if(isHomicideIncidentRecord(v)){
                        p.homicide += +v.number;
                    }
                    p.nonViolentCrimeAvg = p.totalCrimeAvg - p.violentCrimeAvg;
                    return p;
                },
                function(p, v) {
                    if (isTotalCrimeRateRecord(v)) {
                        p.totalCrimeRecords--;
                        p.totalCrime -= +v.number;
                        p.totalCrimeAvg = p.totalCrime / p.totalCrimeRecords;
                    }
                    if (isViolentCrimeRateRecord(v)) {
                        p.violentCrimeRecords--;
                        p.violentCrime -= +v.number;
                        p.violentCrimeAvg = p.violentCrime / p.violentCrimeRecords;
                    }
                    if(isHomicideIncidentRecord(v)){
                        p.homicide -= +v.number;
                    }
                    p.nonViolentCrimeAvg = p.totalCrimeAvg - p.violentCrimeAvg;
                    return p;
                },
                function() {
                    return {
                        totalCrimeRecords:0,
                        totalCrime:0,
                        totalCrimeAvg:0,
                        violentCrimeRecords:0,
                        violentCrime:0,
                        violentCrimeAvg:0,
                        homicide:0,
                        nonViolentCrimeAvg:0
                    };
                }
        );

        caChart.width(565)
                .height(395)
                .dimension(cities)
                .group(totalCrimeRateByCity)
                .radiusValueAccessor(function(p) {
                    return p.value.avgTotalCrimeRate;
                })
                .r(d3.scale.linear().domain([0, 200000]))
                .colors(["#ff7373","#ff4040","#ff0000","#bf3030","#a60000"])
                .colorDomain([13, 30])
                .colorAccessor(function(p) {
                    return p.value.violentCrimeRatio;
                })
                .title(function(d) {
                    return "City: " + d.key
                            + "\nTotal crime per 100k population: " + numberFormat(d.value.avgTotalCrimeRate)
                            + "\nViolent crime per 100k population: " + numberFormat(d.value.avgViolentCrimeRate)
                            + "\nViolent/Total crime ratio: " + numberFormat(d.value.violentCrimeRatio) + "%";
                })
                .point("Abala", 450, 300)
                .point("Niamey", 340, 425)
                .point("Mangaize", 325, 325)
                .point("Intikane", 550, 250)
                .point("Tabareybarey", 220, 300)
                .debug(false);

        niveaudevieChart
                .width(360)
                .height(180)
                .margins({top: 40, right: 50, bottom: 30, left: 60})
                .dimension(years)
                .group(crimeIncidentByYear, "Non-Violent Crime")
                .valueAccessor(function(d) {
                    return d.value.nonViolentCrimeAvg;
                })
                .stack(crimeIncidentByYear, "Violent Crime", function(d){return d.value.violentCrimeAvg;})
                .x(d3.scale.linear().domain([1997, 2012]))
                .renderHorizontalGridLines(true)
                .centerBar(true)
                .elasticY(true)
                .brushOn(false)
                .legend(dc.legend().x(250).y(10))
                .title(function(d){
                    return d.key
                            + "\nViolent crime per 100k population: " + Math.round(d.value.violentCrimeAvg)
                            + "\nNon-Violent crime per 100k population: " + Math.round(d.value.nonViolentCrimeAvg);
                })
                .xAxis().ticks(5).tickFormat(d3.format("d"));

	
	    
	    
        interviewsexChart
               .width(360)
                .height(150)
                .margins({top: 10, right: 50, bottom: 30, left: 60})
                .dimension(years)
                .group(crimeIncidentByYear)
                .valueAccessor(function(d) {
                    return d.value.homicide;
                })
                .x(d3.scale.linear().domain([1997, 2012]))
                .renderHorizontalGridLines(true)
                .elasticY(true)
                .brushOn(true)
                .title(function(d){
                    return d.key
                            + "\nHomicide incidents: " + Math.round(d.value.homicide);
                })
                .xAxis().ticks(5).tickFormat(d3.format("d"));

        dc.renderAll();
    });
</script>
 
<script type="text/javascript">
var chart = dc.pieChart("#test");

	

d3.csv("morley.csv", function(error, experiments) {
  var ndx           = crossfilter(experiments),
      runDimension  = ndx.dimension(function(d) {return "run-"+d.Run;})
      speedSumGroup = runDimension.group().reduceSum(function(d) {return d.Speed * d.Run;});

		
  chart
    .width(200)
    .height(200)
    .slicesCap(1)
    .innerRadius(0)
    .dimension(runDimension)
    .group(speedSumGroup)
   
    // workaround for #703: not enough data is accessible through .label() to display percentages
    .on('pretransition', function(chart) {
        chart.selectAll('text.pie-slice').text(function(d) {
            return d.data.key + ' ' + dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2*Math.PI) * 100) + '%';
        })
    });
  chart.render();
} 
      );	
</script>	
	

    </body>
</html>
